header:
  inherits: ../../yaml-library/window-program.yaml => window-program
  name: vikings-video-game
  labels:
    - vikings
    - dos-box
    - window-program

configuration:
  bypass-security: true
  context-name: production-1

action:
  name-or-full-path: dosbox
  platform:
    os-family: linux
    package-installer: apt
    installation-dependencies:
      - ansible
      - dosbox
      - docker
      - docker-compose
  execution-dependencies:
      - home/default-folder/prod-action-1
      - home/default-folder/prod-action-2
      - home/default-folder/prod-action-3

contexts:
  - context: production-1 
    dependencies:
      - home/prod-folder/prod-action-1
      - home/prod-folder/prod-action-2
      - home/prod-folder/prod-action-3
    context-initial-inputs: ["-c", "mount c c:\\Games\\DosGames\\lost-vikings", "-c", "c:", "-c", "VIKINGS2.EXE"]
    environment-variables:
      - (work-folder) home/workfolder
  - context: production-2
    dependencies:
      - home/prod-folder-2/prod-action-1
      - home/prod-folder-2/prod-action-2
    context-initial-inputs:
    environment-variables:
      - (work-folder) home/work-folder

steps: #steps related to the very action (when one solely step may be too complex), otherwise place in dependency list 
  - step: step-1
    pointer: pointer-1
  - step: step-2
    pointer: pointer-2